#!/bin/sh

# A word on checking whether a util is installed:
# Technically `command -v $util` is better as we don't need to know where the
# command is installed, but it is a lot slower.
# Pretty much all the utilities here will be in /usr/bin, especially on Arch
# Linux where /bin and /sbin are just symlinks to /usr/bin.
# As such, test -x /usr/bin/${util} works just as well.

# Attach to existing tmux session if not already in one.
# Doing this early prevents the original shell from executing everything
# beneath until the user detaches.
if [ -x /usr/bin/tmux ] && [ -z "$TMUX" ]; then
    # Bug: On login, this automatically attaches to the linux console
    # which is marginally smaller than the rxvt terminal.
    # Since tmux's window decreases to the smallest one, our window is small
    # until we detach the old linux connection.
    [ $TERM != "linux" ] && tmux attach
fi

. ${HOME}/.aliases

# Base16-shell
# BASE16_SCHEME="monokai"
# BASE16_SHELL="$HOME/.config/base16-shell/base16-${BASE16_SCHEME}.sh"
# [[ -s $BASE16_SHELL ]] && . $BASE16_SHELL

if [[ -x /usr/bin/cowsay && -x /usr/bin/fortune ]]; then
    fortune | cowsay -n -f tux
fi

# cat /etc/motd
